<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 4</title>
</head>
<body>
    <h1>TV Series Search (Default Image)</h1>

    <form id="search-form">
        <input id="query" name="q" type="text" placeholder="Enter TV series name">
        <input type="submit" value="Search">
    </form>

    <div id="results"></div>

    <script>
        const searchForm = document.querySelector('#search-form');
        const resultsContainer = document.querySelector('#results');

        searchForm.addEventListener('submit', async function(evt) {
            evt.preventDefault();
            const query = document.querySelector('#query').value;

            try {
                const response = await fetch(`https://api.tvmaze.com/search/shows?q=${query}`);
                const jsonData = await response.json();

                resultsContainer.innerHTML = '';

                for (const tvShow of jsonData) {
                    const show = tvShow.show;

                    const article = document.createElement('article');

                    const imageSrc = show.image ? show.image.medium : 'https://via.placeholder.com/210x295?text=Not%20Found';

                    article.innerHTML = `
                        <h2>${show.name}</h2>
                        <img src="${imageSrc}" alt="${show.name}">
                        <div>${show.summary}</div>
                        <a href="${show.url}" target="_blank">Details</a>
                    `;

                    resultsContainer.appendChild(article);
                }
            } catch (error) {
                console.log(error.message);
            }
        });
    </script>
</body>
</html>