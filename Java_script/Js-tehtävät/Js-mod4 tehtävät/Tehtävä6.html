<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task 6</title>
</head>
<body>
    <h1>Chuck Norris Search</h1>

    <form id="joke-form">
        <input id="search-input" type="text" placeholder="Search (e.g. 'nerd')">
        <button type="submit">Search</button>
    </form>

    <div id="jokes"></div>

    <script>
        const form = document.querySelector('#joke-form');
        const jokesContainer = document.querySelector('#jokes');

        form.addEventListener('submit', async function(evt) {
            evt.preventDefault();
            const query = document.querySelector('#search-input').value;

            try {
                const response = await fetch(`https://api.chucknorris.io/jokes/search?query=${query}`);
                const json = await response.json();

                jokesContainer.innerHTML = ''; // Tyhjennetään vanhat

                for (const joke of json.result) {
                    const article = document.createElement('article');
                    const p = document.createElement('p');

                    p.innerText = joke.value;

                    article.appendChild(p);
                    jokesContainer.appendChild(article);
                }

            } catch (error) {
                console.error(error);
            }
        });
    </script>
</body>
</html>